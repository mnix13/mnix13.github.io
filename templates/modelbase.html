{% extends 'base.html' %} {% block header %}
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.13/css/dataTables.bootstrap.min.css" />
<script type="text/javascript" src="https://cdn.datatables.net/1.10.13/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/1.10.13/js/dataTables.bootstrap.min.js"></script>
{% endblock %} {% block main %}

<table id="ingredients">
    <thead>
        <tr>
            {% for item in instances[0] %} {% if item != 'appearance' and item != 'image' and item != 'video' %}
            <td>{{ item.title() }}</td>
            {% endif %} {% endfor %}
        </tr>
    </thead>
    <tbody>
        {% for instance in instances %}
        <tr>
            {% for item in instance %} {% if instance[item] is iterable and instance[item] is not string %}
            <td>
                <ul>
                    {% for value in instance[item] %}
                    <li>{{value}}</li>
                    {% endfor %}
                </ul>
            </td>
            {% else %} {% if item == 'link' or item == 'wikipedia' %}
            <td><a href="{{ instance[item] }}">Wikipedia</a></td>
            {% elif item == 'appearance' or item == 'image' or item == 'video' %} {% else %}
            <td>{{ instance[item] }}</td>
            {% endif %} {% endif %} {% endfor %}
        </tr>
        {% endfor %}
    </tbody>
</table>
<script>
    $(document).ready(function () {
        $('#ingredients').DataTable({
            "lengthMenu": [
                [3, -1],
                [3, "All"]
            ]
        });
    });
</script>
{% endblock %}